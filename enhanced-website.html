<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handmade Treasures - Enhanced Website</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Navigation */
        .navbar {
            background: #fff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 600;
            color: #8B4513;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .nav-item {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
            cursor: pointer;
        }

        .nav-item:hover, .nav-item.active {
            color: #8B4513;
        }

        .cart-link {
            position: relative;
            background: #8B4513;
            color: white !important;
            padding: 10px 15px;
            border-radius: 25px;
        }

        .admin-link {
            background: #ff4757;
            color: white !important;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Sections */
        .section {
            display: none;
            padding-top: 100px;
            min-height: 100vh;
        }

        .section.active {
            display: block;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #8B4513 0%, #D2691E 100%);
            color: white;
            text-align: center;
            padding: 150px 0 100px;
            margin-top: -100px;
        }

        .hero-content h1 {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        .cta-btn {
            display: inline-block;
            background: white;
            color: #8B4513;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            transition: transform 0.3s;
            cursor: pointer;
        }

        .cta-btn:hover {
            transform: translateY(-2px);
        }

        /* Products */
        .featured-products {
            padding: 80px 0;
            background: #f8f9fa;
        }

        .featured-products h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 50px;
            color: #333;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #333;
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: 600;
            color: #8B4513;
            margin-bottom: 15px;
        }

        .btn-primary {
            background: #8B4513;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 25px;
            display: inline-block;
            transition: background 0.3s;
            border: none;
            cursor: pointer;
            margin-right: 10px;
        }

        .btn-primary:hover {
            background: #654321;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            border: none;
            cursor: pointer;
        }

        /* Product Detail Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        .modal-body {
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .modal-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 10px;
        }

        /* Features */
        .features {
            padding: 80px 0;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
        }

        .feature-card {
            text-align: center;
            padding: 30px;
        }

        .feature-card i {
            font-size: 3rem;
            color: #8B4513;
            margin-bottom: 20px;
        }

        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #333;
        }

        /* Content Sections */
        .content-section {
            padding: 40px 0;
        }

        .content-box {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin: 20px 0;
        }

        .content-box h3 {
            color: #8B4513;
            margin-bottom: 15px;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .form-group textarea {
            height: 120px;
            resize: vertical;
        }

        /* Cart Styles */
        .cart-item {
            background: white;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-empty {
            text-align: center;
            color: #666;
            padding: 40px;
        }

        /* Admin Styles */
        .admin-section {
            background: #f8f9fa;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #8B4513;
        }

        .contact-request {
            background: white;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #8B4513;
        }

        .request-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .request-date {
            color: #666;
            font-size: 0.9rem;
        }

        /* Footer */
        .footer {
            background: #333;
            color: white;
            padding: 50px 0 20px;
            margin-top: 50px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-section h4 {
            margin-bottom: 20px;
            color: #8B4513;
        }

        .footer-section a {
            color: #ccc;
            text-decoration: none;
            display: block;
            margin-bottom: 10px;
            transition: color 0.3s;
            cursor: pointer;
        }

        .footer-section a:hover {
            color: #8B4513;
        }

        .social-icons {
            display: flex;
            gap: 15px;
        }

        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: #8B4513;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .social-icons a:hover {
            background: #654321;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #555;
            color: #ccc;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
            
            .hero-content h1 {
                font-size: 2rem;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }

            .modal-body {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-gem"></i>
                <span>Handmade Treasures</span>
            </div>
            <div class="nav-menu">
                <a class="nav-item active" onclick="showSection('home')">Home</a>
                <a class="nav-item" onclick="showSection('shop')">Shop</a>
                <a class="nav-item" onclick="showSection('about')">About</a>
                <a class="nav-item" onclick="showSection('contact')">Contact</a>
                <a class="nav-item cart-link" onclick="showSection('cart')">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </a>
                <a class="nav-item admin-link" onclick="showSection('admin')">
                    <i class="fas fa-user-shield"></i> Admin
                </a>
            </div>
        </div>
    </nav>

    <!-- HOME SECTION -->
    <section id="home" class="section active">
        <div class="hero">
            <div class="hero-content">
                <h1>Discover Unique Handmade Treasures</h1>
                <p>Each piece tells a story, crafted with love and attention to detail</p>
                <a class="cta-btn" onclick="showSection('shop')">Shop Now</a>
            </div>
        </div>

        <div class="featured-products">
            <div class="container">
                <h2>Featured Products</h2>
                <div class="products-grid" id="featured-products">
                    <!-- Products loaded by JavaScript -->
                </div>
            </div>
        </div>

        <div class="features">
            <div class="container">
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-hand-holding-heart"></i>
                        <h3>Handcrafted with Love</h3>
                        <p>Every item is carefully made by skilled artisans with passion and dedication</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-leaf"></i>
                        <h3>Eco-Friendly Materials</h3>
                        <p>We use sustainable and natural materials in all our handmade products</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-shipping-fast"></i>
                        <h3>Fast Shipping</h3>
                        <p>Quick and secure delivery to your doorstep with careful packaging</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SHOP SECTION -->
    <section id="shop" class="section">
        <div class="content-section">
            <div class="container">
                <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 50px;">All Products</h2>
                <div class="products-grid" id="shop-products">
                    <!-- Products loaded by JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- ABOUT SECTION -->
    <section id="about" class="section">
        <div class="content-section">
            <div class="container">
                <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 30px;">About Handmade Treasures</h2>
                
                <div class="content-box">
                    <h3>Our Story</h3>
                    <p>We are passionate about bringing you the finest handcrafted items from talented artisans around the world. Each piece tells a unique story of creativity, tradition, and skill passed down through generations.</p>
                </div>

                <div class="content-box">
                    <h3>Our Mission</h3>
                    <p>To support local artisans and preserve traditional craftsmanship while providing you with beautiful, unique items for your home and lifestyle. We believe in fair trade, sustainable practices, and celebrating the human touch in our increasingly digital world.</p>
                </div>

                <div class="content-box">
                    <h3>Why Choose Handmade?</h3>
                    <p>Handmade items are special because they carry the personal touch of their creators. No two pieces are exactly alike, making each purchase truly unique. When you buy handmade, you're supporting artisans, preserving traditional skills, and getting a product made with care and attention to detail.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTACT SECTION -->
    <section id="contact" class="section">
        <div class="content-section">
            <div class="container">
                <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 30px;">Contact Us</h2>
                
                <div class="content-box" style="max-width: 600px; margin: 0 auto;">
                    <form id="contact-form">
                        <div class="form-group">
                            <label>Name:</label>
                            <input type="text" name="name" required>
                        </div>
                        <div class="form-group">
                            <label>Email:</label>
                            <input type="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label>Subject:</label>
                            <input type="text" name="subject" required>
                        </div>
                        <div class="form-group">
                            <label>Message:</label>
                            <textarea name="message" required></textarea>
                        </div>
                        <button type="submit" class="btn-primary" style="width: 100%;">Send Message</button>
                    </form>
                    <div id="form-message" class="hidden" style="margin-top: 20px; padding: 15px; border-radius: 8px; text-align: center;"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- CART SECTION -->
    <section id="cart" class="section">
        <div class="content-section">
            <div class="container">
                <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 30px;">Shopping Cart</h2>
                
                <div id="cart-items">
                    <div class="cart-empty">
                        <p>Your cart is empty. Add some products to see them here!</p>
                        <button class="btn-primary" onclick="showSection('shop')" style="margin-top: 20px;">Continue Shopping</button>
                    </div>
                </div>
                
                <div id="cart-total" class="hidden" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); text-align: center; margin-top: 20px;">
                    <!-- Cart total will be shown here -->
                </div>
            </div>
        </div>
    </section>

    <!-- ADMIN SECTION -->
    <section id="admin" class="section admin-section">
        <div class="content-section">
            <div class="container">
                <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 30px;">Admin Dashboard</h2>
                
                <!-- Admin Stats -->
                <div class="admin-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="total-products">0</div>
                        <div>Total Products</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-contacts">0</div>
                        <div>Contact Requests</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-orders">0</div>
                        <div>Total Orders</div>
                    </div>
                </div>

                <!-- Contact Requests -->
                <div class="content-box">
                    <h3>Contact Requests</h3>
                    <div id="contact-requests">
                        <p style="text-align: center; color: #666;">No contact requests yet.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Product Detail Modal -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Product Details</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div>
                    <img id="modal-image" class="modal-image" src="" alt="">
                </div>
                <div>
                    <h3 id="modal-product-title"></h3>
                    <div id="modal-price" style="font-size: 2rem; color: #8B4513; font-weight: bold; margin: 20px 0;"></div>
                    <p id="modal-description" style="margin-bottom: 20px;"></p>
                    <div id="modal-details" style="margin-bottom: 20px;">
                        <h4>Product Details:</h4>
                        <ul id="modal-features"></ul>
                    </div>
                    <button class="btn-primary" id="modal-add-cart" style="width: 100%;">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Handmade Treasures</h4>
                    <p>Bringing you the finest handcrafted items from talented artisans around the world.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <a onclick="showSection('home')">Home</a>
                    <a onclick="showSection('shop')">Shop</a>
                    <a onclick="showSection('about')">About</a>
                    <a onclick="showSection('contact')">Contact</a>
                </div>
                <div class="footer-section">
                    <h4>Follow Us</h4>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Handmade Treasures. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Enhanced Product data with more items
        const products = [
            {
                id: 1,
                name: "Handmade Bracelet",
                price: 12500,
                image: "https://images.unsplash.com/photo-1611652022419-a9419f74343d?w=400&h=300&fit=crop",
                description: "Beautiful handmade beaded bracelet crafted with care using natural stones and premium materials.",
                features: ["Natural stones", "Adjustable size", "Handcrafted", "Eco-friendly materials"]
            },
            {
                id: 2,
                name: "Decorative Vase",
                price: 37500,
                image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop",
                description: "Hand-painted decorative ceramic vase with intricate patterns perfect for home decoration.",
                features: ["Hand-painted", "Ceramic material", "Unique patterns", "Perfect for flowers"]
            },
            {
                id: 3,
                name: "Knitted Warm Scarf",
                price: 30000,
                image: "https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?w=400&h=300&fit=crop",
                description: "Warm and cozy handmade scarf knitted with premium wool in beautiful patterns.",
                features: ["Premium wool", "Hand-knitted", "Multiple colors", "Warm and cozy"]
            },
            {
                id: 4,
                name: "Wooden Tea Coasters",
                price: 20000,
                image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop",
                description: "Set of four engraved wooden tea coasters handcrafted from sustainable wood.",
                features: ["Set of 4 pieces", "Sustainable wood", "Engraved design", "Natural finish"]
            },
            {
                id: 5,
                name: "Ceramic Coffee Mug",
                price: 15000,
                image: "https://images.unsplash.com/photo-1514228742587-6b1558fcf93a?w=400&h=300&fit=crop",
                description: "Handmade ceramic coffee mug with unique glaze patterns perfect for your morning ritual.",
                features: ["Handmade ceramic", "Unique glaze", "Perfect size", "Dishwasher safe"]
            },
            {
                id: 6,
                name: "Embroidered Cushion",
                price: 22500,
                image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop",
                description: "Beautiful embroidered cushion cover with traditional patterns that adds elegance to any space.",
                features: ["Hand-embroidered", "Traditional patterns", "Premium fabric", "Removable cover"]
            },
            {
                id: 7,
                name: "Handwoven Basket",
                price: 18750,
                image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop",
                description: "Handwoven storage basket made from natural fibers, perfect for organizing your home.",
                features: ["Natural fibers", "Handwoven", "Storage solution", "Eco-friendly"]
            },
            {
                id: 8,
                name: "Leather Journal",
                price: 27500,
                image: "https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?w=400&h=300&fit=crop",
                description: "Handcrafted leather journal with handmade paper, perfect for writing and sketching.",
                features: ["Genuine leather", "Handmade paper", "Vintage design", "Perfect for writing"]
            },
            {
                id: 9,
                name: "Clay Dinner Plates",
                price: 50000,
                image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop",
                description: "Set of handmade clay dinner plates with beautiful glazed finish for elegant dining.",
                features: ["Set of 4 plates", "Handmade clay", "Glazed finish", "Microwave safe"]
            },
            {
                id: 10,
                name: "Macrame Wall Hanging",
                price: 21250,
                image: "https://images.unsplash.com/photo-1611652022419-a9419f74343d?w=400&h=300&fit=crop",
                description: "Beautiful macrame wall hanging made with natural cotton rope, perfect wall decoration.",
                features: ["Natural cotton rope", "Handmade macrame", "Wall decoration", "Bohemian style"]
            }
        ];

        // Shopping cart
        class ShoppingCart {
            constructor() {
                this.items = this.loadCart();
                this.updateCartCount();
            }

            loadCart() {
                const savedCart = localStorage.getItem('handmade-cart');
                return savedCart ? JSON.parse(savedCart) : [];
            }

            saveCart() {
                localStorage.setItem('handmade-cart', JSON.stringify(this.items));
                this.updateCartCount();
            }

            addItem(productId) {
                const product = products.find(p => p.id === productId);
                if (!product) return;

                const existingItem = this.items.find(item => item.id === productId);
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    this.items.push({
                        id: product.id,
                        name: product.name,
                        price: product.price,
                        image: product.image,
                        quantity: 1
                    });
                }
                
                this.saveCart();
                this.showNotification(`${product.name} added to cart!`);
                this.renderCart();
            }

            removeItem(productId) {
                this.items = this.items.filter(item => item.id !== productId);
                this.saveCart();
                this.renderCart();
            }

            clearCart() {
                this.items = [];
                this.saveCart();
                this.renderCart();
            }

            updateCartCount() {
                const cartCount = document.querySelector('.cart-count');
                if (cartCount) {
                    const totalItems = this.items.reduce((sum, item) => sum + item.quantity, 0);
                    cartCount.textContent = totalItems;
                    cartCount.style.display = totalItems > 0 ? 'flex' : 'none';
                }
            }

            getTotal() {
                return this.items.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            }

            showNotification(message) {
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 100px;
                    right: 20px;
                    background: #2ed573;
                    color: white;
                    padding: 15px 20px;
                    border-radius: 8px;
                    z-index: 1001;
                `;
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            }

            renderCart() {
                const cartContainer = document.getElementById('cart-items');
                const cartTotal = document.getElementById('cart-total');
                
                if (this.items.length === 0) {
                    cartContainer.innerHTML = `
                        <div class="cart-empty">
                            <p>Your cart is empty. Add some products to see them here!</p>
                            <button class="btn-primary" onclick="showSection('shop')" style="margin-top: 20px;">Continue Shopping</button>
                        </div>
                    `;
                    cartTotal.classList.add('hidden');
                    return;
                }

                cartContainer.innerHTML = this.items.map(item => `
                    <div class="cart-item">
                        <div>
                            <h4>${item.name}</h4>
                            <p>Quantity: ${item.quantity} | Price: PKR ${item.price}</p>
                        </div>
                        <button class="btn-primary" onclick="cart.removeItem(${item.id})" style="background: #ff4757;">Remove</button>
                    </div>
                `).join('');

                cartTotal.innerHTML = `
                    <h3>Order Summary</h3>
                    <div style="font-size: 2rem; color: #8B4513; font-weight: bold; margin: 20px 0;">Total: PKR ${this.getTotal()}</div>
                    <button class="btn-primary" onclick="cart.clearCart()" style="background: #ff4757;">Clear Cart</button>
                `;
                cartTotal.classList.remove('hidden');
            }
        }

        // Contact requests management
        class ContactManager {
            constructor() {
                this.requests = this.loadRequests();
            }

            loadRequests() {
                const saved = localStorage.getItem('contact-requests');
                return saved ? JSON.parse(saved) : [];
            }

            saveRequests() {
                localStorage.setItem('contact-requests', JSON.stringify(this.requests));
                this.updateAdminStats();
            }

            addRequest(formData) {
                const request = {
                    id: Date.now(),
                    name: formData.get('name'),
                    email: formData.get('email'),
                    subject: formData.get('subject'),
                    message: formData.get('message'),
                    date: new Date().toLocaleDateString(),
                    time: new Date().toLocaleTimeString()
                };
                
                this.requests.unshift(request);
                this.saveRequests();
                this.renderRequests();
            }

            renderRequests() {
                const container = document.getElementById('contact-requests');
                
                if (this.requests.length === 0) {
                    container.innerHTML = '<p style="text-align: center; color: #666;">No contact requests yet.</p>';
                    return;
                }

                container.innerHTML = this.requests.map(request => `
                    <div class="contact-request">
                        <div class="request-header">
                            <h4>${request.name}</h4>
                            <span class="request-date">${request.date} at ${request.time}</span>
                        </div>
                        <p><strong>Email:</strong> ${request.email}</p>
                        <p><strong>Subject:</strong> ${request.subject}</p>
                        <p><strong>Message:</strong> ${request.message}</p>
                    </div>
                `).join('');
            }

            updateAdminStats() {
                document.getElementById('total-products').textContent = products.length;
                document.getElementById('total-contacts').textContent = this.requests.length;
                document.getElementById('total-orders').textContent = cart.items.length;
            }
        }

        // Initialize
        const cart = new ShoppingCart();
        const contactManager = new ContactManager();

        // Navigation
        function showSection(sectionName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.getElementById(sectionName).classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
            
            if (sectionName === 'cart') {
                cart.renderCart();
            } else if (sectionName === 'admin') {
                contactManager.renderRequests();
                contactManager.updateAdminStats();
            }
        }

        // Product modal
        function openProductModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            document.getElementById('modal-title').textContent = 'Product Details';
            document.getElementById('modal-image').src = product.image;
            document.getElementById('modal-product-title').textContent = product.name;
            document.getElementById('modal-price').textContent = `PKR ${product.price}`;
            document.getElementById('modal-description').textContent = product.description;
            
            const featuresList = document.getElementById('modal-features');
            featuresList.innerHTML = product.features.map(feature => `<li>${feature}</li>`).join('');
            
            document.getElementById('modal-add-cart').onclick = () => {
                cart.addItem(productId);
                closeModal();
            };
            
            document.getElementById('productModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('productModal').style.display = 'none';
        }

        // Load products
        function loadProducts() {
            const featuredContainer = document.getElementById('featured-products');
            const shopContainer = document.getElementById('shop-products');
            
            const productHTML = products.map(product => `
                <div class="product-card" onclick="openProductModal(${product.id})">
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-price">₹${product.price}</div>
                        <p>${product.description.substring(0, 80)}...</p>
                        <button class="btn-primary" onclick="event.stopPropagation(); cart.addItem(${product.id})">Add to Cart</button>
                        <button class="btn-secondary" onclick="event.stopPropagation(); openProductModal(${product.id})">View Details</button>
                    </div>
                </div>
            `).join('');
            
            if (featuredContainer) featuredContainer.innerHTML = products.slice(0, 6).map(product => `
                <div class="product-card" onclick="openProductModal(${product.id})">
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-price">₹${product.price}</div>
                        <p>${product.description.substring(0, 80)}...</p>
                        <button class="btn-primary" onclick="event.stopPropagation(); cart.addItem(${product.id})">Add to Cart</button>
                        <button class="btn-secondary" onclick="event.stopPropagation(); openProductModal(${product.id})">View Details</button>
                    </div>
                </div>
            `).join('');
            
            if (shopContainer) shopContainer.innerHTML = productHTML;
        }

        // Contact form
        document.getElementById('contact-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            contactManager.addRequest(formData);
            
            const messageDiv = document.getElementById('form-message');
            messageDiv.style.background = '#2ed573';
            messageDiv.style.color = 'white';
            messageDiv.textContent = 'Thank you for your message! We will get back to you soon.';
            messageDiv.classList.remove('hidden');
            
            this.reset();
            
            setTimeout(() => {
                messageDiv.classList.add('hidden');
            }, 5000);
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('productModal');
            if (event.target == modal) {
                closeModal();
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadProducts();
            contactManager.updateAdminStats();
        });
    </script>
</body>
</html>